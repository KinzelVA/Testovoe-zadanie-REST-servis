# Testovoe-zadanie-REST-servis

# Mini-CRM распределения лидов по операторам

Небольшой сервис на FastAPI + SQLAlchemy + SQLite для распределения обращений (лидов) по операторам с учётом лимитов нагрузки и весов по каждому источнику.

## Технологии

- Python
- FastAPI
- SQLAlchemy
- SQLite

## Запуск

Установить зависимости:

```bash
pip install "fastapi[standard]" sqlalchemy pytest

## Описание

Тестовое задание: REST-сервис на FastAPI для распределения обращений (лидов) по операторам с учётом:

- лимита нагрузки на оператора (максимум активных обращений);
- весов по каждому источнику (каналу/боту);
- единого идентификатора лида (external_id).

Реализовано:
-Поддерживается запуск как локально (uvicorn), так и в Docker (см. раздел ниже)
- CRUD для операторов и источников;
- настройка весов операторов по источникам;
- регистрация обращений с автоматическим выбором оператора;
- просмотр лидов и их обращений;
- простая статистика по операторам и источникам;
- 2 юнит-теста для проверки алгоритма распределения.
## Документация API

После запуска приложения:

```bash
uvicorn mini_crm.main:app --reload
интерактивная документация Swagger будет доступна по адресу:

http://127.0.0.1:8000/docs
 — список всех эндпоинтов, их схем и примеры запросов/ответов.

http://127.0.0.1:8000/openapi.json
 — OpenAPI-спецификация в JSON.## Запуск в Docker

Для запуска сервиса в Docker:

1. Собрать образ:

```bash
docker build -t mini-crm .
Запустить контейнер
docker run --rm -p 8000:8000 mini-crm
